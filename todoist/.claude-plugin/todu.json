{
  "system": "todoist",
  "displayName": "Todoist",
  "capabilities": {
    "taskManagement": true,
    "comments": true,
    "labels": false,
    "assignees": false,
    "milestones": false
  },
  "scripts": {
    "create": "scripts/create-task.py",
    "update": "scripts/update-task.py",
    "sync": "scripts/sync-tasks.py",
    "view": "scripts/view-task.py",
    "comment": "scripts/create-comment.py"
  },
  "requirements": {
    "env": ["TODOIST_API_KEY"],
    "description": "Get your API key from https://todoist.com/app/settings/integrations/developer"
  },
  "interface": {
    "identifierType": "task-id",
    "identifierFields": ["task_id"],
    "operations": {
      "create": {
        "args": {
          "project-id": {"source": "project_id", "flag": "--project-id"},
          "title": {"source": "param", "flag": "--title"},
          "body": {"source": "param", "flag": "--body", "optional": true},
          "priority": {"source": "param", "flag": "--priority", "optional": true},
          "due-date": {"source": "param", "flag": "--due-date", "optional": true}
        }
      },
      "update": {
        "args": {
          "task-id": {"source": "systemData.task_id", "flag": "--task-id"},
          "status": {"source": "param", "flag": "--status", "optional": true},
          "priority": {"source": "param", "flag": "--priority", "optional": true},
          "complete": {"source": "param", "flag": "--complete", "optional": true},
          "reopen": {"source": "param", "flag": "--reopen", "optional": true}
        }
      },
      "sync": {
        "args": {
          "project-id": {"source": "project_id", "flag": "--project-id"}
        }
      },
      "view": {
        "args": {
          "task-id": {"source": "systemData.task_id", "flag": "--task-id"}
        }
      },
      "comment": {
        "args": {
          "task-id": {"source": "systemData.task_id", "flag": "--task-id"},
          "body": {"source": "param", "flag": "--body"}
        }
      }
    }
  }
}
